# Unity-Asteroids-game

Unity 2019.2.0f1

Asteroid game for Rightway Games from Sergey Vasiltsov
08.09.2019

///////
Геймплей
Игрок управляет космическим кораблем, который находится внизу экрана и может перемещаться по-горизонтали. На корабль сверху летят препятствия:
Астероиды - простые препятствия, имеющие линейную траекторию движения.
Вражеские корабли - противники, которые постоянно стреляют в сторону игрока и двигаются в направлении игрока.
Корабль должен выстрелами сбивать препятствия, за что игрок получает очки. Количество очков зависит от типа и уровня препятствия. 
При попадании препятствия (или снаряда врага) в игрока, уменьшается прочность корабля. Когда прочность корабля падает ниже нуля, игра заканчивается.

///////
Scriptable object позволяет создавать неограниченное количество разных вражеских кораблей, которые отличаются корпусом, прочностью, расположением орудий их количеством, уроном и скоростью.
Настраивать можно не только вражеские корабли, но и прочность и скорость астероидов и параметры корабля игрока.
Визуал вражеских кораблей, астероидов и корабля игрока можно настраивать, просто поместив новые спрайты в папку внутри Resources. 
ВАЖНО: Ширина, высота и разрешение спрайта должны быть как у уже имеющихся. 
Звуки и спрайты взрывов также можно добавлять в папку внутри Resources.

///////
Управление
Перемещение корабля - стрелки или 'a'/'d'
Стрельба - пробел
Пауза - Esc или кнопка паузы в правом верхнем углу экрана

//////
Структура классов
У PlayerController, EnemyController и AsteroidController один родитель - SpaceObjectParent
У EnemySpawner и AsteroidSpawner один родитель - SpawnerParent

EnemySpawner и AsteroidSpawner получают данные о правилах спавна объектов из LevelData (Scriptable object).
При спауне EnemyController или AsteroidController они получают данные о своем уровне, и других параметров от Spawner.
PlayerController получает параметры напрямую от PlayerLevelData из инспектора.

При стрельбе, EnemyController передает AmmoController параметры полета (скорость, направление и урон).

У LevelData (Scriptable object) есть свой Editor, с помощью которого можно добавлять уровни или изменять параметры существующих.
При выборе LevelData в инспекторе показываются нули - нужно нажать на Prev или Next и все появится.
В инспекторе можно переходить по уровням просто введя номер уровня в соответствующее поле.
Все изменения в параметрах сохраняются автоматически.
Если Editor пишет ошибку про невозможность изменения multiple files, нужно перезапустить Unity. Это баг Unity.

//////
Тесты
Первоначально datasource с параметрами объектов был в формате csv. 
После миграции на ScriptableObject часть тестов перестали выполняться. Нужно докрутить взаимодействие с новым датасорсом. 


 
